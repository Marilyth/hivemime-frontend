(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,30525,e=>{"use strict";e.s(["default",()=>k],30525);var s=e.i(43476),l=e.i(15288),n=e.i(19455),a=e.i(87675),t=e.i(10204),i=e.i(93479);function r(e){let{label:l,isRequired:n,...a}=e;return(0,s.jsxs)("div",{className:"flex flex-col w-full gap-1",children:[(0,s.jsxs)(t.Label,{htmlFor:a.id,children:[l,n&&(0,s.jsx)("span",{className:"text-honey-brown",children:"*"})]}),(0,s.jsx)(i.Input,{...a})]})}e.i(71470);var o=e.i(41721),c=e.i(72436),d=e.i(48800),x=e.i(85272);let p=(0,o.observer)(e=>{let{poll:l}=e;return(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Choose the type of poll you wish to create."}),[{name:"Single choice",description:"The user has to pick one out of several candidates."},{name:"Multiple choice",description:"The user has to pick one or more out of several candidates."},{name:"Ranking",description:"The user has to rank the candidates in order of preference. (E.g. top 10 lists)"},{name:"Categorization",description:"The user has to assign a category to each candidate. (E.g. tier lists)"}].map((e,n)=>(0,s.jsxs)(d.HiveMimeHoverCard,{className:"flex flex-row cursor-pointer hover:text-honey-brown",onClick:()=>l.answerType=n,children:[(0,s.jsx)(x.HiveMimePollTypeIcon,{answerType:n,className:"mr-2 text-gray-500"}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,s.jsx)("span",{children:e.name}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:e.description})]})]},n))]})});var h=e.i(7233),u=e.i(27612),m=e.i(73741);let j=(0,o.observer)(e=>{let{className:l,...n}=e;return(0,s.jsx)(i.Input,{className:"!bg-transparent !ring-offset-transparent border-0 shadow-none focus-visible:ring-0 p-0 ".concat(l),...n})}),v=(0,o.observer)(e=>{let{label:l,option:n}=e;return(0,s.jsxs)(d.HiveMimeHoverCard,{className:"flex flex-row",children:[(0,s.jsx)("span",{className:"w-8 text-gray-500",children:l}),(0,s.jsx)(j,{value:n.name,onChange:e=>n.name=e.target.value})]})}),f=(0,o.observer)(e=>{let{poll:l}=e;return(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(m.Label,{children:"Candidates"}),l.options.map((e,a)=>(0,s.jsxs)("div",{className:"flex flex-row items-center",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(v,{option:e,label:"".concat(a+1)})}),(0,s.jsx)(n.Button,{disabled:l.options.length<=2,variant:"ghost",className:"ml-2 text-muted-foreground hover:text-red-400",onClick:()=>{l.options.length>2&&l.options.splice(a,1)},children:(0,s.jsx)(u.Trash2,{})})]},a)),(0,s.jsxs)(n.Button,{variant:"outline",onClick:function(){var e;null==(e=l.options)||e.push({name:"Candidate ".concat(l.options.length+1),description:""})},children:[(0,s.jsx)(h.Plus,{}),"Add candidate"]})]})}),g=(0,o.observer)(e=>{let{poll:l}=e,t={[a.PollAnswerType.SingleChoice]:(0,s.jsx)(f,{poll:l}),[a.PollAnswerType.MultipleChoice]:(0,s.jsx)("span",{children:"ToDo"}),[a.PollAnswerType.Ranking]:(0,s.jsx)("span",{children:"ToDo"}),[a.PollAnswerType.Categorization]:(0,s.jsx)("span",{children:"ToDo"})};return(0,s.jsx)("div",{children:void 0==l.answerType&&(0,s.jsx)(p,{poll:l})||(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("div",{className:"flex flex-row gap-2",children:(0,s.jsx)(r,{label:"Question",placeholder:"My poll's title",value:l.title,onChange:e=>l.title=e.target.value})}),(0,s.jsx)(r,{label:"Description",placeholder:"My poll's description",value:l.description,onChange:e=>l.description=e.target.value}),(0,s.jsxs)("div",{className:"flex flex-row items-center mt-8",children:[(0,s.jsx)(c.Separator,{className:"flex-1"}),(0,s.jsxs)(n.Button,{variant:"link",className:"border-1 cursor-pointer text-honey-brown",onClick:()=>l.answerType=void 0,children:[(0,s.jsx)(x.HiveMimePollTypeIcon,{answerType:l.answerType}),a.PollAnswerType[l.answerType]]}),(0,s.jsx)(c.Separator,{className:"flex-1"})]}),t[l.answerType]]})})});var b=e.i(24808),C=e.i(71645),T=e.i(53642),y=e.i(75157),w=e.i(18566);let N=(0,o.observer)(()=>{let e=(0,C.useContext)(T.HiveMimeApiContext),[a,t]=(0,C.useState)("1"),i=(0,C.useRef)((0,y.createObservable)({title:"",description:"",polls:[]})).current;function o(){var e;null==(e=i.polls)||e.push({title:"",description:"",options:[]}),t("".concat(i.polls.length))}async function d(){await e.api.postCreateCreate(i),(0,w.redirect)("/home")}return 0===i.polls.length&&o(),(0,s.jsxs)(l.Card,{className:"py-4",children:[(0,s.jsx)(l.CardHeader,{children:(0,s.jsx)("h2",{className:"text-2xl font-bold",children:"Create new post"})}),(0,s.jsx)(l.CardContent,{children:(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(r,{isRequired:!0,label:"Title",placeholder:"My title",value:i.title,onChange:e=>i.title=e.target.value}),(0,s.jsx)(r,{label:"Description",placeholder:"My description",value:i.description,onChange:e=>i.description=e.target.value}),(0,s.jsx)(c.Separator,{className:"mt-8",orientation:"horizontal"}),(0,s.jsx)(m.Label,{children:"Polls"}),(0,s.jsxs)(b.EmbeddedTabs,{value:a,onValueChange:t,children:[(0,s.jsx)(b.EmbeddedTabsList,{actionComponent:(0,s.jsxs)(n.Button,{variant:"outline",className:"rounded-b-none border-b-0",onClick:o,children:[(0,s.jsx)(h.Plus,{}),"Add"]}),children:i.polls.map((e,l)=>(0,s.jsx)(b.EmbeddedTabsTrigger,{value:"".concat(l+1),children:l+1},l))}),i.polls.map((e,l)=>(0,s.jsx)(b.EmbeddedTabsContent,{value:"".concat(l+1),children:(0,s.jsx)(g,{poll:e})},l))]})]})}),(0,s.jsx)(l.CardFooter,{children:(0,s.jsx)(n.Button,{onClick:d,children:"Submit"})})]})});function k(){return(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("div",{className:"w-full max-w-183 flex flex-col gap-4",children:(0,s.jsx)(N,{})})})}}]);