(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,30525,e=>{"use strict";e.s(["default",()=>ey],30525);var t=e.i(43476),l=e.i(15288),a=e.i(27612),n=e.i(19455),i=e.i(87675),r=e.i(10204),o=e.i(93479),s=e.i(75157);function d(e){let{className:l,...a}=e;return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,s.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",l),...a})}function c(e){let{label:l,isRequired:a,...n}=e;return(0,t.jsxs)("div",{className:"flex flex-col w-full gap-1",children:[(0,t.jsxs)(r.Label,{htmlFor:n.id,children:[l,a&&(0,t.jsx)("span",{className:"text-honey-brown",children:"*"})]}),(0,t.jsx)(o.Input,{maxLength:200,...n})]})}function u(e){let{label:l,isRequired:a,...n}=e;return(0,t.jsxs)("div",{className:"flex flex-col w-full gap-1",children:[(0,t.jsxs)(r.Label,{htmlFor:n.id,children:[l,a&&(0,t.jsx)("span",{className:"text-honey-brown",children:"*"})]}),(0,t.jsx)(d,{maxLength:2e3,...n})]})}e.i(71470);var p=e.i(41721),h=e.i(72436),x=e.i(48800),v=e.i(85272);let f=(0,p.observer)(e=>{let{poll:l}=e,a=[{value:i.PollType.SingleChoice,description:"The user has to pick one out of several candidates."},{value:i.PollType.MultipleChoice,description:"The user has to pick one or more out of several candidates."},{value:i.PollType.Rating,description:"The user has to assign each candidate a numerical value within a specified range."},{value:i.PollType.Ranking,description:"The user has to rank the candidates in order of preference. (E.g. top 10 lists)"},{value:i.PollType.Categorization,description:"The user has to assign a category to each candidate. (E.g. tier lists)"}];return(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Choose the type of poll you wish to create."}),a.map((e,a)=>(0,t.jsxs)(x.HiveMimeHoverCard,{className:"flex flex-row cursor-pointer hover:text-honey-brown",onClick:()=>l.pollType=e.value,children:[(0,t.jsx)(v.HiveMimePollTypeIcon,{answerType:e.value,className:"mr-2 text-gray-500 w-8"}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,t.jsx)("span",{children:e.value}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:e.description})]})]},a))]})});var m=e.i(71645);let g=(0,p.observer)(e=>{let{className:l,...a}=e;return(0,t.jsx)(o.Input,{className:"!bg-transparent !ring-offset-transparent border-0 shadow-none focus-visible:ring-0 p-0 ".concat(l),...a})}),j=(0,p.observer)(e=>{let{className:l,...a}=e;return(0,t.jsx)(o.Input,{className:"text-honey-brown !bg-transparent !ring-offset-transparent border-0 shadow-none focus-visible:ring-0 p-0 mx-1.5 text-center rounded-none border-b-1 border-honey-brown p-0 h-auto w-auto ".concat(l),...a})});function b(e){let{index:l,onIndexChange:a}=e,[n,i]=(0,m.useState)(l);return(0,t.jsx)("div",{className:"flex flex-row items-center justify-center",children:(0,t.jsx)(g,{className:"p-0 w-6 h-auto text-gray-500",value:n,onChange:e=>{var t;i(t=Math.max(1,t=Number(e.target.value))),null==a||a(t)}})})}var w=e.i(7233);let y=(0,p.observer)(e=>{let{poll:l}=e;return(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(r.Label,{children:"Candidates"}),(0,t.jsx)("div",{className:"flex flex-col gap-0.5",children:l.candidates.map((e,i)=>(0,t.jsxs)("div",{className:"flex flex-row items-center",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(N,{option:e,index:i,onIndexChange:e=>(function(e,t){if(t<0||t>=l.candidates.length)return;let[a]=l.candidates.splice(e,1);l.candidates.splice(t,0,a)})(i,e)})}),(0,t.jsx)(n.Button,{variant:"ghost",className:"ml-2 text-muted-foreground hover:text-red-400",onClick:()=>{l.candidates.splice(i,1)},children:(0,t.jsx)(a.Trash2,{})})]},i))}),(0,t.jsxs)(n.Button,{variant:"outline",onClick:function(){var e;null==(e=l.candidates)||e.push({name:"Candidate ".concat(l.candidates.length+1),description:""})},children:[(0,t.jsx)(w.Plus,{}),"Add candidate"]})]})}),N=(0,p.observer)(e=>{let{index:l,option:a,onIndexChange:n}=e;return(0,t.jsxs)(x.HiveMimeHoverCard,{className:"flex flex-row gap-2",children:[(0,t.jsx)(b,{index:l,onIndexChange:e=>null==n?void 0:n(e)}),(0,t.jsx)(g,{className:"h-auto",value:a.name,onChange:e=>a.name=e.target.value})]})}),C=(0,p.observer)(e=>{var l;return(0,m.useEffect)(()=>{console.log("Validating single choice poll",e.poll),e.validation.isValid=!0,e.validation.errors=[],(!e.poll.candidates||e.poll.candidates.length<2)&&(e.validation.isValid=!1,e.validation.errors.push("A choice poll must have at least two candidates."))},[null==(l=e.poll.candidates)?void 0:l.length]),(0,t.jsx)(y,{poll:e.poll})}),S=(0,p.observer)(e=>{var l,a;return(0,m.useEffect)(()=>{e.validation.isValid=!0,e.validation.errors=[],(!e.poll.candidates||e.poll.candidates.length<2)&&(e.validation.isValid=!1,e.validation.errors.push("A choice poll must have at least two candidates."))},[null==(l=e.poll.candidates)?void 0:l.length]),(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"items-center text-muted-foreground",children:["The user can pick up to",(0,t.jsx)(j,{max:5,min:1,value:null==(a=e.poll.candidates)?void 0:a.length,className:"w-5"}),"candidates."]}),(0,t.jsx)(y,{poll:e.poll})]})}),T=(0,p.observer)(e=>{var l;return(0,m.useEffect)(()=>{e.validation.isValid=!0,e.validation.errors=[],(!e.poll.candidates||e.poll.candidates.length<2)&&(e.validation.isValid=!1,e.validation.errors.push("A ranking poll must have at least two candidates."))},[null==(l=e.poll.candidates)?void 0:l.length]),(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"items-center text-muted-foreground",children:["The user has to rank at least",(0,t.jsx)(j,{min:1,defaultValue:1,className:"w-5"}),"candidates."]}),(0,t.jsx)(y,{poll:e.poll})]})});var P=e.i(70152),R=e.i(81140),E=e.i(20783),k=e.i(30030),D=e.i(69340),M=e.i(86318),A=e.i(35804),V=e.i(48425),H=e.i(75830),I=["PageUp","PageDown"],z=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],L={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},_="Slider",[B,K,U]=(0,H.createCollection)(_),[O,F]=(0,k.createContextScope)(_,[U]),[q,X]=O(_),Y=m.forwardRef((e,l)=>{let{name:a,min:n=0,max:i=100,step:r=1,orientation:o="horizontal",disabled:s=!1,minStepsBetweenThumbs:d=0,defaultValue:c=[n],value:u,onValueChange:p=()=>{},onValueCommit:h=()=>{},inverted:x=!1,form:v,...f}=e,g=m.useRef(new Set),j=m.useRef(0),b="horizontal"===o,[w=[],y]=(0,D.useControllableState)({prop:u,defaultProp:c,onChange:e=>{var t;null==(t=[...g.current][j.current])||t.focus(),p(e)}}),N=m.useRef(w);function C(e,t){let{commit:l}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{commit:!1},a=(String(r).split(".")[1]||"").length,o=function(e,t){let l=Math.pow(10,t);return Math.round(e*l)/l}(Math.round((e-n)/r)*r+n,a),s=(0,P.clamp)(o,[n,i]);y(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,l=arguments.length>2?arguments[2]:void 0,a=[...e];return a[l]=t,a.sort((e,t)=>e-t)}(e,s,t);if(!function(e,t){if(t>0)return Math.min(...e.slice(0,-1).map((t,l)=>e[l+1]-t))>=t;return!0}(a,d*r))return e;{j.current=a.indexOf(s);let t=String(a)!==String(e);return t&&l&&h(a),t?a:e}})}return(0,t.jsx)(q,{scope:e.__scopeSlider,name:a,disabled:s,min:n,max:i,valueIndexToChangeRef:j,thumbs:g.current,values:w,orientation:o,form:v,children:(0,t.jsx)(B.Provider,{scope:e.__scopeSlider,children:(0,t.jsx)(B.Slot,{scope:e.__scopeSlider,children:(0,t.jsx)(b?J:W,{"aria-disabled":s,"data-disabled":s?"":void 0,...f,ref:l,onPointerDown:(0,R.composeEventHandlers)(f.onPointerDown,()=>{s||(N.current=w)}),min:n,max:i,inverted:x,onSlideStart:s?void 0:function(e){let t=function(e,t){if(1===e.length)return 0;let l=e.map(e=>Math.abs(e-t)),a=Math.min(...l);return l.indexOf(a)}(w,e);C(e,t)},onSlideMove:s?void 0:function(e){C(e,j.current)},onSlideEnd:s?void 0:function(){let e=N.current[j.current];w[j.current]!==e&&h(w)},onHomeKeyDown:()=>!s&&C(n,0,{commit:!0}),onEndKeyDown:()=>!s&&C(i,w.length-1,{commit:!0}),onStepKeyDown:e=>{let{event:t,direction:l}=e;if(!s){let e=I.includes(t.key)||t.shiftKey&&z.includes(t.key),a=j.current;C(w[a]+r*(e?10:1)*l,a,{commit:!0})}}})})})})});Y.displayName=_;var[Q,G]=O(_,{startEdge:"left",endEdge:"right",size:"width",direction:1}),J=m.forwardRef((e,l)=>{let{min:a,max:n,dir:i,inverted:r,onSlideStart:o,onSlideMove:s,onSlideEnd:d,onStepKeyDown:c,...u}=e,[p,h]=m.useState(null),x=(0,E.useComposedRefs)(l,e=>h(e)),v=m.useRef(void 0),f=(0,M.useDirection)(i),g="ltr"===f,j=g&&!r||!g&&r;function b(e){let t=v.current||p.getBoundingClientRect(),l=es([0,t.width],j?[a,n]:[n,a]);return v.current=t,l(e-t.left)}return(0,t.jsx)(Q,{scope:e.__scopeSlider,startEdge:j?"left":"right",endEdge:j?"right":"left",direction:j?1:-1,size:"width",children:(0,t.jsx)(Z,{dir:f,"data-orientation":"horizontal",...u,ref:x,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let t=b(e.clientX);null==o||o(t)},onSlideMove:e=>{let t=b(e.clientX);null==s||s(t)},onSlideEnd:()=>{v.current=void 0,null==d||d()},onStepKeyDown:e=>{let t=L[j?"from-left":"from-right"].includes(e.key);null==c||c({event:e,direction:t?-1:1})}})})}),W=m.forwardRef((e,l)=>{let{min:a,max:n,inverted:i,onSlideStart:r,onSlideMove:o,onSlideEnd:s,onStepKeyDown:d,...c}=e,u=m.useRef(null),p=(0,E.useComposedRefs)(l,u),h=m.useRef(void 0),x=!i;function v(e){let t=h.current||u.current.getBoundingClientRect(),l=es([0,t.height],x?[n,a]:[a,n]);return h.current=t,l(e-t.top)}return(0,t.jsx)(Q,{scope:e.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:(0,t.jsx)(Z,{"data-orientation":"vertical",...c,ref:p,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let t=v(e.clientY);null==r||r(t)},onSlideMove:e=>{let t=v(e.clientY);null==o||o(t)},onSlideEnd:()=>{h.current=void 0,null==s||s()},onStepKeyDown:e=>{let t=L[x?"from-bottom":"from-top"].includes(e.key);null==d||d({event:e,direction:t?-1:1})}})})}),Z=m.forwardRef((e,l)=>{let{__scopeSlider:a,onSlideStart:n,onSlideMove:i,onSlideEnd:r,onHomeKeyDown:o,onEndKeyDown:s,onStepKeyDown:d,...c}=e,u=X(_,a);return(0,t.jsx)(V.Primitive.span,{...c,ref:l,onKeyDown:(0,R.composeEventHandlers)(e.onKeyDown,e=>{"Home"===e.key?(o(e),e.preventDefault()):"End"===e.key?(s(e),e.preventDefault()):I.concat(z).includes(e.key)&&(d(e),e.preventDefault())}),onPointerDown:(0,R.composeEventHandlers)(e.onPointerDown,e=>{let t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),u.thumbs.has(t)?t.focus():n(e)}),onPointerMove:(0,R.composeEventHandlers)(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&i(e)}),onPointerUp:(0,R.composeEventHandlers)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),r(e))})})}),$="SliderTrack",ee=m.forwardRef((e,l)=>{let{__scopeSlider:a,...n}=e,i=X($,a);return(0,t.jsx)(V.Primitive.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:l})});ee.displayName=$;var et="SliderRange",el=m.forwardRef((e,l)=>{let{__scopeSlider:a,...n}=e,i=X(et,a),r=G(et,a),o=m.useRef(null),s=(0,E.useComposedRefs)(l,o),d=i.values.length,c=i.values.map(e=>eo(e,i.min,i.max)),u=d>1?Math.min(...c):0,p=100-Math.max(...c);return(0,t.jsx)(V.Primitive.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:s,style:{...e.style,[r.startEdge]:u+"%",[r.endEdge]:p+"%"}})});el.displayName=et;var ea="SliderThumb",en=m.forwardRef((e,l)=>{let a=K(e.__scopeSlider),[n,i]=m.useState(null),r=(0,E.useComposedRefs)(l,e=>i(e)),o=m.useMemo(()=>n?a().findIndex(e=>e.ref.current===n):-1,[a,n]);return(0,t.jsx)(ei,{...e,ref:r,index:o})}),ei=m.forwardRef((e,l)=>{let{__scopeSlider:a,index:n,name:i,...r}=e,o=X(ea,a),s=G(ea,a),[d,c]=m.useState(null),u=(0,E.useComposedRefs)(l,e=>c(e)),p=!d||o.form||!!d.closest("form"),h=(0,A.useSize)(d),x=o.values[n],v=void 0===x?0:eo(x,o.min,o.max),f=function(e,t){return t>2?"Value ".concat(e+1," of ").concat(t):2===t?["Minimum","Maximum"][e]:void 0}(n,o.values.length),g=null==h?void 0:h[s.size],j=g?function(e,t,l){let a=e/2,n=es([0,50],[0,a]);return(a-n(t)*l)*l}(g,v,s.direction):0;return m.useEffect(()=>{if(d)return o.thumbs.add(d),()=>{o.thumbs.delete(d)}},[d,o.thumbs]),(0,t.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:"calc(".concat(v,"% + ").concat(j,"px)")},children:[(0,t.jsx)(B.ItemSlot,{scope:e.__scopeSlider,children:(0,t.jsx)(V.Primitive.span,{role:"slider","aria-label":e["aria-label"]||f,"aria-valuemin":o.min,"aria-valuenow":x,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...r,ref:u,style:void 0===x?{display:"none"}:e.style,onFocus:(0,R.composeEventHandlers)(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),p&&(0,t.jsx)(er,{name:null!=i?i:o.name?o.name+(o.values.length>1?"[]":""):void 0,form:o.form,value:x},n)]})});en.displayName=ea;var er=m.forwardRef((e,l)=>{let{__scopeSlider:a,value:n,...i}=e,r=m.useRef(null),o=(0,E.useComposedRefs)(r,l),s=function(e){let t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(n);return m.useEffect(()=>{let e=r.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(s!==n&&t){let l=new Event("input",{bubbles:!0});t.call(e,n),e.dispatchEvent(l)}},[s,n]),(0,t.jsx)(V.Primitive.input,{style:{display:"none"},...i,ref:o,defaultValue:n})});function eo(e,t,l){return(0,P.clamp)(100/(l-t)*(e-t),[0,100])}function es(e,t){return l=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(l-e[0])}}function ed(e){let{className:l,defaultValue:a,value:n,min:i=0,max:r=100,...o}=e,d=m.useMemo(()=>Array.isArray(n)?n:Array.isArray(a)?a:[i,r],[n,a,i,r]);return(0,t.jsxs)(Y,{"data-slot":"slider",defaultValue:a,value:n,min:i,max:r,className:(0,s.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",l),...o,children:[(0,t.jsx)(ee,{"data-slot":"slider-track",className:(0,s.cn)("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:(0,t.jsx)(el,{"data-slot":"slider-range",className:(0,s.cn)("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:d.length},(e,l)=>(0,t.jsx)(en,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},l))]})}er.displayName="RadioBubbleInput";let ec=(0,p.observer)(e=>{var l;let[a,n]=(0,m.useState)([1,10,1]),[i,o]=(0,m.useState)(1);return(0,m.useEffect)(()=>{e.validation.isValid=!0,e.validation.errors=[],(!e.poll.candidates||e.poll.candidates.length<1)&&(e.validation.isValid=!1,e.validation.errors.push("A scoring poll must have at least one candidate."))},[null==(l=e.poll.candidates)?void 0:l.length]),(0,t.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:"items-center text-muted-foreground",children:["The user has to score candidates from",(0,t.jsx)(j,{min:1,defaultValue:1,className:"w-5",onChange:e=>n([Number.parseInt(e.target.value),a[1],a[2]])}),"to",(0,t.jsx)(j,{min:1,defaultValue:10,className:"w-5",onChange:e=>n([a[0],Number.parseInt(e.target.value),a[2]])}),"in steps of",(0,t.jsx)(j,{min:1,defaultValue:1,className:"w-5",onChange:e=>n([a[0],a[1],Number.parseInt(e.target.value)])}),"."]}),(0,t.jsxs)("div",{className:"flex flex-row items-center",children:[(0,t.jsx)(r.Label,{className:"flex-1 text-gray-500 text-sm",children:"Example"}),(0,t.jsx)(r.Label,{className:"text-gray-500 text-sm",children:i})]}),(0,t.jsx)(ed,{min:a[0],max:a[1],step:a[2],onValueChange:e=>o(e[0])})]}),(0,t.jsx)(y,{poll:e.poll})]})}),eu=(0,p.observer)(e=>{let{poll:l}=e;return(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(r.Label,{children:"Categories"}),(0,t.jsx)("div",{className:"flex flex-col gap-0.5",children:l.candidates.map((e,i)=>(0,t.jsxs)("div",{className:"flex flex-row items-center",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(ep,{option:e,index:i,onIndexChange:e=>(function(e,t){if(t<0||t>=l.candidates.length)return;let[a]=l.candidates.splice(e,1);l.candidates.splice(t,0,a)})(i,e)})}),(0,t.jsx)(n.Button,{disabled:l.candidates.length<=2,variant:"ghost",className:"ml-2 text-muted-foreground hover:text-red-400",onClick:()=>{l.candidates.length>2&&l.candidates.splice(i,1)},children:(0,t.jsx)(a.Trash2,{})})]},i))}),(0,t.jsxs)(n.Button,{variant:"outline",onClick:function(){var e;null==(e=l.candidates)||e.push({name:"Category ".concat(l.candidates.length+1),description:""})},children:[(0,t.jsx)(w.Plus,{}),"Add category"]})]})}),ep=(0,p.observer)(e=>{let{index:l,option:a,onIndexChange:n}=e;return(0,t.jsxs)(x.HiveMimeHoverCard,{className:"flex flex-row gap-2",children:[(0,t.jsx)(b,{index:l,onIndexChange:e=>null==n?void 0:n(e)}),(0,t.jsx)(g,{className:"h-auto",value:a.name,onChange:e=>a.name=e.target.value})]})}),eh=(0,p.observer)(e=>{var l;return(0,m.useEffect)(()=>{e.validation.isValid=!0,e.validation.errors=[],(!e.poll.candidates||e.poll.candidates.length<1)&&(e.validation.isValid=!1,e.validation.errors.push("A categorization poll must have at least one candidate."))},[null==(l=e.poll.candidates)?void 0:l.length]),(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsx)(eu,{poll:e.poll}),(0,t.jsx)(y,{poll:e.poll})]})}),ex=(0,p.observer)(e=>{(0,m.useEffect)(()=>{e.validation.isValid=!0,e.validation.errors=[],void 0===e.poll.pollType&&(e.validation.isValid=!1,e.validation.errors=["A poll type must be selected."])},[e.poll.pollType]);let l={[i.PollType.SingleChoice]:(0,t.jsx)(C,{validation:e.validation,poll:e.poll}),[i.PollType.MultipleChoice]:(0,t.jsx)(S,{validation:e.validation,poll:e.poll}),[i.PollType.Rating]:(0,t.jsx)(ec,{validation:e.validation,poll:e.poll}),[i.PollType.Ranking]:(0,t.jsx)(T,{validation:e.validation,poll:e.poll}),[i.PollType.Categorization]:(0,t.jsx)(eh,{validation:e.validation,poll:e.poll})};return(0,t.jsx)("div",{children:void 0==e.poll.pollType&&(0,t.jsx)(f,{poll:e.poll})||(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:"flex flex-row gap-2 items-end",children:[(0,t.jsx)(c,{label:"Question",placeholder:"My poll's title",value:e.poll.title,onChange:t=>e.poll.title=t.target.value}),(0,t.jsx)(n.Button,{disabled:!e.canDelete,variant:"ghost",className:"text-muted-foreground hover:text-red-400",onClick:e.onDeleteRequested,children:(0,t.jsx)(a.Trash2,{})})]}),(0,t.jsx)(u,{label:"Description",placeholder:"My poll's description",value:e.poll.description,onChange:t=>e.poll.description=t.target.value}),(0,t.jsxs)("div",{className:"flex flex-row items-center mt-8",children:[(0,t.jsx)(h.Separator,{className:"flex-1"}),(0,t.jsxs)(n.Button,{variant:"link",className:"border-1 cursor-pointer text-honey-brown",onClick:()=>e.poll.pollType=void 0,children:[(0,t.jsx)(v.HiveMimePollTypeIcon,{answerType:e.poll.pollType}),e.poll.pollType]}),(0,t.jsx)(h.Separator,{className:"flex-1"})]}),l[e.poll.pollType]]})})});var ev=e.i(24808),ef=e.i(53642),em=e.i(73741),eg=e.i(18566),ej=e.i(87444),eb=e.i(46696);let ew=(0,p.observer)(()=>{let e=(0,m.useContext)(ef.HiveMimeApiContext),[a,i]=(0,m.useState)("1"),r=(0,m.useRef)((0,ej.observable)([])).current,o=(0,m.useRef)((0,ej.observable)({title:"",description:"",polls:[]})).current;function s(){var e;r.push({isValid:!1,errors:[]}),null==(e=o.polls)||e.push({title:"",description:"",candidates:[]}),i("".concat(o.polls.length))}async function d(){(function(){let e=[];(void 0==o.title||""===o.title.trim())&&e.push("A post must have a title.");for(let t=0;t<r.length;t++)r[t].isValid||e.push("Poll ".concat(t+1,": ").concat(r[t].errors.join(", ")));if(e.length>0)for(let t=0;t<e.length;t++)eb.toast.error(e[t]);return 0===e.length})()&&(await e.api.postCreateCreate(o),eb.toast.success("Post created successfully!"),(0,eg.redirect)("/home"))}return 0===o.polls.length&&s(),(0,t.jsxs)(l.Card,{className:"py-4 text-foreground",children:[(0,t.jsx)(l.CardHeader,{children:(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Create new post"})}),(0,t.jsx)(l.CardContent,{children:(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(c,{isRequired:!0,label:"Title",placeholder:"My title",value:o.title,onChange:e=>o.title=e.target.value}),(0,t.jsx)(u,{label:"Description",placeholder:"My description",value:o.description,onChange:e=>o.description=e.target.value}),(0,t.jsx)(h.Separator,{className:"mt-8",orientation:"horizontal"}),(0,t.jsx)(em.Label,{children:"Polls"}),(0,t.jsxs)(ev.EmbeddedTabs,{value:a,onValueChange:i,children:[(0,t.jsx)(ev.EmbeddedTabsList,{actionComponent:(0,t.jsxs)(n.Button,{variant:"outline",className:"rounded-b-none border-b-0",onClick:s,children:[(0,t.jsx)(w.Plus,{}),"Add"]}),children:o.polls.map((e,l)=>(0,t.jsx)(ev.EmbeddedTabsTrigger,{className:"".concat(r[l].isValid?"":"text-red-500"),value:"".concat(l+1),children:l+1},l))}),o.polls.map((e,l)=>(0,t.jsx)(ev.EmbeddedTabsContent,{value:"".concat(l+1),children:(0,t.jsx)(ex,{validation:r[l],poll:e,canDelete:o.polls.length>1,onDeleteRequested:()=>(function(e){var t;null==(t=o.polls)||t.splice(e,1),r.splice(e,1),e>=o.polls.length&&i("".concat(e))})(l)})},l))]})]})}),(0,t.jsx)(l.CardFooter,{children:(0,t.jsx)(n.Button,{onClick:d,children:"Submit"})})]})});function ey(){return(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("div",{className:"w-full max-w-183 flex flex-col gap-4",children:(0,t.jsx)(ew,{})})})}}]);