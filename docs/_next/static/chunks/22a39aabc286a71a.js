(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,81789,e=>{"use strict";e.s(["default",()=>eU],81789);var t=e.i(43476),a=e.i(15288),n=e.i(75254);let r=(0,n.default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),l=(0,n.default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var o=e.i(91918),s=e.i(25913),i=e.i(75157);let d=(0,s.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:a,variant:n,asChild:r=!1,...l}=e,s=r?o.Slot:"span";return(0,t.jsx)(s,{"data-slot":"badge",className:(0,i.cn)(d({variant:n}),a),...l})}var u=e.i(87675);e.i(71470);var p=e.i(41721);let x=(0,n.default)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);var m=e.i(48800);let v=(0,p.observer)(e=>{let{vote:a,candidate:n,onClick:r}=e;function l(){return 1==a.value}return(0,t.jsxs)(m.HiveMimeHoverCard,{className:"flex flex-row items-center cursor-pointer ".concat(l()?"bg-honey-brown/20":"hover:text-honey-brown"),onClick:r,children:[(0,t.jsx)("span",{className:"w-8 font-light text-gray-500",children:l()?(0,t.jsx)(x,{className:"w-4 h-4"}):a.candidateId}),(0,t.jsx)("span",{children:n.name})]})}),f=(0,p.observer)(e=>{let{poll:a,pollVotes:n}=e;return(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("span",{className:"text-gray-500 text-sm",children:"Please pick 1 option"}),a.candidates.map((e,a)=>(0,t.jsx)(v,{vote:n.candidates[a],candidate:e,onClick:()=>(function(e){let t=n.candidates[e],a=null==t?void 0:t.value;if(t.value=((null!=a?a:0)+1)%2,0!==t.value)for(let t=0;t<n.candidates.length;t++)t!==e&&(n.candidates[t].value=0)})(a)},a))]})});var h=e.i(85272),g=e.i(19455);let b=(0,n.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var j=e.i(40141);function y(e){return(0,j.GenIcon)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M168.531 215.469l-29.864 29.864 96 96L448 128l-29.864-29.864-183.469 182.395-66.136-65.062zm236.802 189.864H106.667V106.667H320V64H106.667C83.198 64 64 83.198 64 106.667v298.666C64 428.802 83.198 448 106.667 448h298.666C428.802 448 448 428.802 448 405.333V234.667h-42.667v170.666z"},child:[]}]})(e)}let w=(0,p.observer)(e=>{let{vote:a,candidate:n,onClick:r}=e;function l(){return 1==a.value}return(0,t.jsxs)(m.HiveMimeHoverCard,{className:"flex flex-row items-center cursor-pointer ".concat(l()?"bg-honey-brown/20":"hover:text-honey-brown"),onClick:r,children:[(0,t.jsx)("span",{className:"w-8 font-light text-gray-500",children:l()?(0,t.jsx)(y,{className:"w-4 h-4"}):a.candidateId}),(0,t.jsx)("span",{children:n.name})]})}),N=(0,p.observer)(e=>{let{poll:a,pollVotes:n}=e;return(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("span",{className:"text-gray-500 text-sm",children:["Please pick between ",a.minVotes," and ",a.maxVotes," options"]}),a.candidates.map((e,a)=>(0,t.jsx)(w,{vote:n.candidates[a],candidate:e,onClick:()=>(function(e){let t=n.candidates[e],a=null==t?void 0:t.value;t.value=((null!=a?a:0)+1)%2})(a)},a))]})});var C=e.i(71645),k=e.i(70152),D=e.i(81140),R=e.i(20783),S=e.i(30030),P=e.i(69340),M=e.i(86318),H=e.i(99682),I=e.i(35804),E=e.i(48425),z=e.i(75830),T=["PageUp","PageDown"],A=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],V={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},_="Slider",[L,O,U]=(0,z.createCollection)(_),[K,B]=(0,S.createContextScope)(_,[U]),[G,X]=K(_),F=C.forwardRef((e,a)=>{let{name:n,min:r=0,max:l=100,step:o=1,orientation:s="horizontal",disabled:i=!1,minStepsBetweenThumbs:d=0,defaultValue:c=[r],value:u,onValueChange:p=()=>{},onValueCommit:x=()=>{},inverted:m=!1,form:v,...f}=e,h=C.useRef(new Set),g=C.useRef(0),b="horizontal"===s,[j=[],y]=(0,P.useControllableState)({prop:u,defaultProp:c,onChange:e=>{var t;null==(t=[...h.current][g.current])||t.focus(),p(e)}}),w=C.useRef(j);function N(e,t){let{commit:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{commit:!1},n=(String(o).split(".")[1]||"").length,s=function(e,t){let a=Math.pow(10,t);return Math.round(e*a)/a}(Math.round((e-r)/o)*o+r,n),i=(0,k.clamp)(s,[r,l]);y(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,n=[...e];return n[a]=t,n.sort((e,t)=>e-t)}(e,i,t);if(!function(e,t){if(t>0)return Math.min(...e.slice(0,-1).map((t,a)=>e[a+1]-t))>=t;return!0}(n,d*o))return e;{g.current=n.indexOf(i);let t=String(n)!==String(e);return t&&a&&x(n),t?n:e}})}return(0,t.jsx)(G,{scope:e.__scopeSlider,name:n,disabled:i,min:r,max:l,valueIndexToChangeRef:g,thumbs:h.current,values:j,orientation:s,form:v,children:(0,t.jsx)(L.Provider,{scope:e.__scopeSlider,children:(0,t.jsx)(L.Slot,{scope:e.__scopeSlider,children:(0,t.jsx)(b?q:W,{"aria-disabled":i,"data-disabled":i?"":void 0,...f,ref:a,onPointerDown:(0,D.composeEventHandlers)(f.onPointerDown,()=>{i||(w.current=j)}),min:r,max:l,inverted:m,onSlideStart:i?void 0:function(e){let t=function(e,t){if(1===e.length)return 0;let a=e.map(e=>Math.abs(e-t)),n=Math.min(...a);return a.indexOf(n)}(j,e);N(e,t)},onSlideMove:i?void 0:function(e){N(e,g.current)},onSlideEnd:i?void 0:function(){let e=w.current[g.current];j[g.current]!==e&&x(j)},onHomeKeyDown:()=>!i&&N(r,0,{commit:!0}),onEndKeyDown:()=>!i&&N(l,j.length-1,{commit:!0}),onStepKeyDown:e=>{let{event:t,direction:a}=e;if(!i){let e=T.includes(t.key)||t.shiftKey&&A.includes(t.key),n=g.current;N(j[n]+o*(e?10:1)*a,n,{commit:!0})}}})})})})});F.displayName=_;var[Q,Y]=K(_,{startEdge:"left",endEdge:"right",size:"width",direction:1}),q=C.forwardRef((e,a)=>{let{min:n,max:r,dir:l,inverted:o,onSlideStart:s,onSlideMove:i,onSlideEnd:d,onStepKeyDown:c,...u}=e,[p,x]=C.useState(null),m=(0,R.useComposedRefs)(a,e=>x(e)),v=C.useRef(void 0),f=(0,M.useDirection)(l),h="ltr"===f,g=h&&!o||!h&&o;function b(e){let t=v.current||p.getBoundingClientRect(),a=es([0,t.width],g?[n,r]:[r,n]);return v.current=t,a(e-t.left)}return(0,t.jsx)(Q,{scope:e.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:(0,t.jsx)(J,{dir:f,"data-orientation":"horizontal",...u,ref:m,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let t=b(e.clientX);null==s||s(t)},onSlideMove:e=>{let t=b(e.clientX);null==i||i(t)},onSlideEnd:()=>{v.current=void 0,null==d||d()},onStepKeyDown:e=>{let t=V[g?"from-left":"from-right"].includes(e.key);null==c||c({event:e,direction:t?-1:1})}})})}),W=C.forwardRef((e,a)=>{let{min:n,max:r,inverted:l,onSlideStart:o,onSlideMove:s,onSlideEnd:i,onStepKeyDown:d,...c}=e,u=C.useRef(null),p=(0,R.useComposedRefs)(a,u),x=C.useRef(void 0),m=!l;function v(e){let t=x.current||u.current.getBoundingClientRect(),a=es([0,t.height],m?[r,n]:[n,r]);return x.current=t,a(e-t.top)}return(0,t.jsx)(Q,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:(0,t.jsx)(J,{"data-orientation":"vertical",...c,ref:p,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let t=v(e.clientY);null==o||o(t)},onSlideMove:e=>{let t=v(e.clientY);null==s||s(t)},onSlideEnd:()=>{x.current=void 0,null==i||i()},onStepKeyDown:e=>{let t=V[m?"from-bottom":"from-top"].includes(e.key);null==d||d({event:e,direction:t?-1:1})}})})}),J=C.forwardRef((e,a)=>{let{__scopeSlider:n,onSlideStart:r,onSlideMove:l,onSlideEnd:o,onHomeKeyDown:s,onEndKeyDown:i,onStepKeyDown:d,...c}=e,u=X(_,n);return(0,t.jsx)(E.Primitive.span,{...c,ref:a,onKeyDown:(0,D.composeEventHandlers)(e.onKeyDown,e=>{"Home"===e.key?(s(e),e.preventDefault()):"End"===e.key?(i(e),e.preventDefault()):T.concat(A).includes(e.key)&&(d(e),e.preventDefault())}),onPointerDown:(0,D.composeEventHandlers)(e.onPointerDown,e=>{let t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),u.thumbs.has(t)?t.focus():r(e)}),onPointerMove:(0,D.composeEventHandlers)(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&l(e)}),onPointerUp:(0,D.composeEventHandlers)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),o(e))})})}),Z="SliderTrack",$=C.forwardRef((e,a)=>{let{__scopeSlider:n,...r}=e,l=X(Z,n);return(0,t.jsx)(E.Primitive.span,{"data-disabled":l.disabled?"":void 0,"data-orientation":l.orientation,...r,ref:a})});$.displayName=Z;var ee="SliderRange",et=C.forwardRef((e,a)=>{let{__scopeSlider:n,...r}=e,l=X(ee,n),o=Y(ee,n),s=C.useRef(null),i=(0,R.useComposedRefs)(a,s),d=l.values.length,c=l.values.map(e=>eo(e,l.min,l.max)),u=d>1?Math.min(...c):0,p=100-Math.max(...c);return(0,t.jsx)(E.Primitive.span,{"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,...r,ref:i,style:{...e.style,[o.startEdge]:u+"%",[o.endEdge]:p+"%"}})});et.displayName=ee;var ea="SliderThumb",en=C.forwardRef((e,a)=>{let n=O(e.__scopeSlider),[r,l]=C.useState(null),o=(0,R.useComposedRefs)(a,e=>l(e)),s=C.useMemo(()=>r?n().findIndex(e=>e.ref.current===r):-1,[n,r]);return(0,t.jsx)(er,{...e,ref:o,index:s})}),er=C.forwardRef((e,a)=>{let{__scopeSlider:n,index:r,name:l,...o}=e,s=X(ea,n),i=Y(ea,n),[d,c]=C.useState(null),u=(0,R.useComposedRefs)(a,e=>c(e)),p=!d||s.form||!!d.closest("form"),x=(0,I.useSize)(d),m=s.values[r],v=void 0===m?0:eo(m,s.min,s.max),f=function(e,t){return t>2?"Value ".concat(e+1," of ").concat(t):2===t?["Minimum","Maximum"][e]:void 0}(r,s.values.length),h=null==x?void 0:x[i.size],g=h?function(e,t,a){let n=e/2,r=es([0,50],[0,n]);return(n-r(t)*a)*a}(h,v,i.direction):0;return C.useEffect(()=>{if(d)return s.thumbs.add(d),()=>{s.thumbs.delete(d)}},[d,s.thumbs]),(0,t.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[i.startEdge]:"calc(".concat(v,"% + ").concat(g,"px)")},children:[(0,t.jsx)(L.ItemSlot,{scope:e.__scopeSlider,children:(0,t.jsx)(E.Primitive.span,{role:"slider","aria-label":e["aria-label"]||f,"aria-valuemin":s.min,"aria-valuenow":m,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0,...o,ref:u,style:void 0===m?{display:"none"}:e.style,onFocus:(0,D.composeEventHandlers)(e.onFocus,()=>{s.valueIndexToChangeRef.current=r})})}),p&&(0,t.jsx)(el,{name:null!=l?l:s.name?s.name+(s.values.length>1?"[]":""):void 0,form:s.form,value:m},r)]})});en.displayName=ea;var el=C.forwardRef((e,a)=>{let{__scopeSlider:n,value:r,...l}=e,o=C.useRef(null),s=(0,R.useComposedRefs)(o,a),i=(0,H.usePrevious)(r);return C.useEffect(()=>{let e=o.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(i!==r&&t){let a=new Event("input",{bubbles:!0});t.call(e,r),e.dispatchEvent(a)}},[i,r]),(0,t.jsx)(E.Primitive.input,{style:{display:"none"},...l,ref:s,defaultValue:r})});function eo(e,t,a){return(0,k.clamp)(100/(a-t)*(e-t),[0,100])}function es(e,t){return a=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(a-e[0])}}function ei(e){let{className:a,defaultValue:n,value:r,min:l=0,max:o=100,...s}=e,d=C.useMemo(()=>Array.isArray(r)?r:Array.isArray(n)?n:[l,o],[r,n,l,o]);return(0,t.jsxs)(F,{"data-slot":"slider",defaultValue:n,value:r,min:l,max:o,className:(0,i.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",a),...s,children:[(0,t.jsx)($,{"data-slot":"slider-track",className:(0,i.cn)("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:(0,t.jsx)(et,{"data-slot":"slider-range",className:(0,i.cn)("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:d.length},(e,a)=>(0,t.jsx)(en,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},a))]})}el.displayName="RadioBubbleInput";let ed=(0,p.observer)(e=>{let{poll:a,vote:n,candidate:r}=e;return(0,t.jsxs)(m.HiveMimeHoverCard,{className:"flex flex-col gap-4 !pb-4 hover:text-honey-brown",children:[(0,t.jsxs)("div",{className:"flex flex-row",children:[(0,t.jsx)("span",{className:"flex-1",children:r.name}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:n.value})]}),(0,t.jsx)(ei,{value:[n.value],onValueChange:e=>n.value=e[0],min:a.minValue,max:a.maxValue,step:a.stepValue})]})}),ec=(0,p.observer)(e=>{let{poll:a,pollVotes:n}=e;return(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("span",{className:"text-gray-500 text-sm",children:["Please score the candidates between ",a.minValue," and ",a.maxValue,"."]}),a.candidates.map((e,r)=>(0,t.jsx)(ed,{vote:n.candidates[r],candidate:e,poll:a},r))]})}),eu=(0,p.observer)(e=>{let{combined:a,onClick:n}=e;function r(){return null!=a.vote.value}return(0,t.jsxs)(m.HiveMimeHoverCard,{className:"flex flex-row items-center cursor-pointer ".concat(r()?"bg-honey-brown/20":"hover:text-honey-brown"),onClick:n,children:[(0,t.jsx)("span",{className:"w-8 font-light text-gray-500",children:r()?a.vote.value+1:a.candidate.id}),(0,t.jsx)("span",{children:a.candidate.name})]})});var ep=e.i(31178);let ex=(0,C.createContext)(null);var em=e.i(87022),ev=e.i(74008);let ef=e=>!e.isLayoutDirty&&e.willUpdate(!1),eh=e=>{let{children:a,id:n,inherit:r=!0}=e,l=(0,C.useContext)(ep.LayoutGroupContext),o=(0,C.useContext)(ex),[s,i]=function(){let e=function(){let e=(0,C.useRef)(!1);return(0,ev.useIsomorphicLayoutEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}(),[t,a]=(0,C.useState)(0),n=(0,C.useCallback)(()=>{e.current&&a(t+1)},[t]);return[(0,C.useCallback)(()=>em.frame.postRender(n),[n]),t]}(),d=(0,C.useRef)(null),c=l.id||o;null===d.current&&((e=>!0==(!0===e)||"id"===e)(r)&&c&&(n=n?c+"-"+n:c),d.current={id:n,group:!0===r&&l.group||function(){let e=new Set,t=new WeakMap,a=()=>e.forEach(ef);return{add:n=>{e.add(n),t.set(n,n.addEventListener("willUpdate",a))},remove:n=>{e.delete(n);let r=t.get(n);r&&(r(),t.delete(n)),a()},dirty:a}}()});let u=(0,C.useMemo)(()=>({...d.current,forceRender:s}),[i]);return(0,t.jsx)(ep.LayoutGroupContext.Provider,{value:u,children:a})};var eg=e.i(46932),eb=e.i(77129);let ej=(0,p.observer)(e=>{let{poll:a,pollVotes:n}=e,[r,l]=(0,C.useState)(()=>a.candidates.map((e,t)=>({candidate:e,vote:n.candidates[t]})));function o(){return r.some(e=>null==e.vote.value)}function s(){let e=r.filter(e=>null!=e.vote.value);return e.sort((e,t)=>e.vote.value-t.vote.value),e}function d(e,t){if(-1==t&&(t=s().length),null!=e.vote.value)for(let t of s())t.vote.value>e.vote.value&&(t.vote.value-=1);if(null!=t)for(let e of s())e.vote.value>=t&&(e.vote.value+=1);e.vote.value=t}return(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("span",{className:"text-gray-500 text-sm",children:"Please rank the candidates in order of preference."}),(0,t.jsxs)(eh,{children:[(0,t.jsx)(eb.HiveMimeDraggable,{className:"mb-4",droppableGroups:(0,i.getReferenceId)(a),isDroppable:!0,onDropped:e=>{let{draggableData:t}=e;return d(t,-1)},canDrop:e=>null==e.vote.value,children:(0,t.jsxs)(eg.motion.div,{layout:!0,className:"flex flex-col bg-honey-brown/20 p-2 rounded-md border-2 border-honey-brown/30 gap-2",children:[(0,t.jsx)(eg.motion.div,{layout:"position",className:"text-sm text-center mb-2",children:"Ranked candidates"}),s().map(e=>(0,t.jsx)(eg.motion.div,{layoutId:(0,i.getReferenceId)(e),children:(0,t.jsx)(eb.HiveMimeDraggable,{droppableGroups:(0,i.getReferenceId)(a),droppableOn:[(0,i.getReferenceId)(a)],isDraggable:!0,isDroppable:!0,isSticky:!0,data:e,onDropped:t=>d(t.draggableData,e.vote.value+ +("bottom"===t.edge)),allowedEdges:["top","bottom"],children:(0,t.jsx)(eu,{combined:e,onClick:()=>d(e,null)})})},(0,i.getReferenceId)(e))),(0,t.jsx)(eg.motion.div,{layout:!0,className:"text-muted-foreground text-center border-1 border-dashed ".concat(o()?"border-muted-foreground/20":"border-transparent"," rounded-md text-sm p-1"),children:o()?(0,t.jsxs)("span",{children:["Please select a candidate for rank ",s().length+1]}):(0,t.jsx)("span",{children:"All candidates ranked"})})]})}),(0,t.jsx)(eb.HiveMimeDraggable,{droppableGroups:(0,i.getReferenceId)(a),isDroppable:!0,onDropped:e=>{d(e.draggableData,null)},canDrop:e=>null!=e.vote.value,children:(0,t.jsxs)(eg.motion.div,{layout:!0,className:"flex flex-col gap-2 bg-muted-foreground/5 p-2 rounded-md border-2 border-muted-foreground/10",children:[(0,t.jsx)(eg.motion.div,{layout:"position",className:"text-sm text-center mb-2",children:"Unranked candidates"}),r.filter(e=>null==e.vote.value).map(e=>(0,t.jsx)(eg.motion.div,{layoutId:(0,i.getReferenceId)(e),children:(0,t.jsx)(eb.HiveMimeDraggable,{droppableOn:[(0,i.getReferenceId)(a)],isDraggable:!0,data:e,children:(0,t.jsx)(eu,{combined:e,onClick:()=>d(e,-1)})})},(0,i.getReferenceId)(e)))]})})]})]})});var ey=e.i(26999),ew=e.i(95926);function eN(e){let{...a}=e;return(0,t.jsx)(ey.Root,{"data-slot":"dialog",...a})}function eC(e){let{...a}=e;return(0,t.jsx)(ey.Portal,{"data-slot":"dialog-portal",...a})}function ek(e){let{className:a,...n}=e;return(0,t.jsx)(ey.Overlay,{"data-slot":"dialog-overlay",className:(0,i.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...n})}function eD(e){let{className:a,children:n,showCloseButton:r=!0,...l}=e;return(0,t.jsxs)(eC,{"data-slot":"dialog-portal",children:[(0,t.jsx)(ek,{}),(0,t.jsxs)(ey.Content,{"data-slot":"dialog-content",className:(0,i.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...l,children:[n,r&&(0,t.jsxs)(ey.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(ew.XIcon,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function eR(e){let{className:a,...n}=e;return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,i.cn)("flex flex-col gap-2 text-center sm:text-left",a),...n})}function eS(e){let{className:a,...n}=e;return(0,t.jsx)(ey.Title,{"data-slot":"dialog-title",className:(0,i.cn)("text-lg leading-none font-semibold",a),...n})}function eP(e){let{className:a,...n}=e;return(0,t.jsx)(ey.Description,{"data-slot":"dialog-description",className:(0,i.cn)("text-muted-foreground text-sm",a),...n})}var eM=e.i(51975);function eH(e){let{className:a,children:n,...r}=e;return(0,t.jsxs)("div",{className:"flex flex-row px-2 py-1 rounded-md border-1 gap-2 text-sm items-center ".concat((0,i.cn)("",a)),...r,children:[(0,t.jsx)(eM.Tag,{className:"w-4 h-4"}),n]})}let eI=(0,p.observer)(e=>{let{categories:a,candidate:n,onClose:r}=e;return(0,t.jsx)(eN,{open:null!=n,onOpenChange:()=>r(),children:(0,t.jsxs)(eD,{children:[(0,t.jsxs)(eR,{children:[(0,t.jsxs)(eS,{children:["Pick a category for ",(0,t.jsx)("span",{className:"text-honey-brown",children:null==n?void 0:n.candidate.name})]}),(0,t.jsx)(eP,{children:"Please pick a category to assign the candidate to."})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:null==a?void 0:a.map((e,a)=>(0,t.jsx)(eH,{onClick:()=>{console.log("test"),n.vote.value=a,r()},className:"cursor-pointer bg-honey-brown/20 border-honey-brown/30 text-honey-brown hover:bg-honey-brown/30",children:(0,t.jsx)("div",{className:"text-muted-foreground",children:e.name})},a))}),(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)(g.Button,{variant:"destructive",onClick:()=>{n.vote.value=null,r()},className:"cursor-pointer",children:(0,t.jsx)("div",{className:"text-muted-foreground",children:"Uncategorize"})})})]})})}),eE=(0,p.observer)(e=>{let{candidates:a,category:n,value:r,onClose:l}=e;return(0,t.jsx)(eN,{open:null!=n,onOpenChange:()=>l(),children:(0,t.jsxs)(eD,{children:[(0,t.jsxs)(eR,{children:[(0,t.jsxs)(eS,{children:["Pick a candidate for ",(0,t.jsx)("span",{className:"text-honey-brown",children:null==n?void 0:n.name})]}),(0,t.jsx)(eP,{children:"Please pick a candidate to assign the category to."})]}),null==a?void 0:a.map((e,a)=>(0,t.jsx)(m.HiveMimeHoverCard,{onClick:()=>{e.vote.value=r,l()},className:"cursor-pointer hover:text-honey-brown flex flex-col p-2 rounded-md border-1 gap-2 text-center",children:(0,t.jsx)("div",{className:"text-sm mb-2",children:e.candidate.name})},a))]})})}),ez=(0,p.observer)(e=>{var a,n;let{poll:r,pollVotes:l}=e,[o,s]=(0,C.useState)(null),[d,c]=(0,C.useState)(null),[u,p]=(0,C.useState)(()=>r.candidates.map((e,t)=>({candidate:e,vote:l.candidates[t]})));function x(e,t){var a;if(null==t){e.vote.value=null;return}e.vote.value=null==(a=r.categories)?void 0:a.indexOf(t)}return(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(eI,{categories:r.categories,candidate:o,onClose:()=>s(null)}),(0,t.jsx)(eE,{candidates:u,category:d,value:null==(a=r.categories)?void 0:a.indexOf(d),onClose:()=>c(null)}),(0,t.jsx)("span",{className:"text-gray-500 text-sm",children:"Please add the candidates to a category."}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 pb-4",children:null==(n=r.categories)?void 0:n.map((e,a)=>(0,t.jsx)(eb.HiveMimeDraggable,{data:e,droppableGroups:["".concat((0,i.getReferenceId)(r),"_category")],droppableOn:["".concat((0,i.getReferenceId)(r),"_candidate")],isDroppable:!0,isDraggable:!0,onClick:()=>c(e),onDropped:t=>x(t.draggableData,e),canDrop:e=>e.vote.value!=a,children:(0,t.jsx)(eH,{className:"cursor-pointer bg-honey-brown/20 border-honey-brown/30 text-honey-brown hover:bg-honey-brown/30",children:(0,t.jsx)("div",{className:"text-muted-foreground",children:e.name})})},(0,i.getReferenceId)(e)))}),u.sort((e,t)=>{var a,n;return(null!=(a=e.vote.value)?a:999)-(null!=(n=t.vote.value)?n:999)}).map((e,a)=>(0,t.jsxs)("div",{children:[(0,t.jsx)(eg.motion.div,{layout:!0,layoutId:(0,i.getReferenceId)(e),children:(0,t.jsx)(eb.HiveMimeDraggable,{droppableOn:["".concat((0,i.getReferenceId)(r),"_category")],droppableGroups:["".concat((0,i.getReferenceId)(r),"_candidate")],isDroppable:!0,isDraggable:!0,data:e,onDropped:e=>x(e.droppableData,e.draggableData),onClick:()=>s(e),children:(0,t.jsxs)(m.HiveMimeHoverCard,{className:"flex flex-row gap-2 cursor-pointer hover:text-honey-brown",children:[(0,t.jsx)("span",{className:"flex-1",children:e.candidate.name}),null!=e.vote.value&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-sm text-honey-brown",children:[(0,t.jsx)(eM.Tag,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:r.categories[e.vote.value].name})]})]})})}),a<u.length-1&&u[a+1].vote.value!=e.vote.value&&(0,t.jsx)("div",{className:"py-2"})]},(0,i.getReferenceId)(e)))]})}),eT=(0,p.observer)(e=>{let{poll:a,pollVote:n}=e,r={[u.PollType.SingleChoice]:(0,t.jsx)(f,{poll:a,pollVotes:n}),[u.PollType.MultipleChoice]:(0,t.jsx)(N,{poll:a,pollVotes:n}),[u.PollType.Scoring]:(0,t.jsx)(ec,{poll:a,pollVotes:n}),[u.PollType.Ranking]:(0,t.jsx)(ej,{poll:a,pollVotes:n}),[u.PollType.Categorization]:(0,t.jsx)(ez,{poll:a,pollVotes:n})};return(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,t.jsxs)("div",{className:"flex flex-1 flex-col gap-2",children:[(0,t.jsx)("span",{className:"text-honey-brown",children:a.title}),(0,t.jsx)("span",{className:"text-muted-foreground",children:a.description})]}),(0,t.jsx)(h.HiveMimePollTypeIcon,{answerType:a.pollType,className:"text-gray-500 w-6 h-6 self-start"})]}),r[a.pollType],(0,t.jsxs)(g.Button,{className:"w-full",variant:"outline",disabled:!0,children:[(0,t.jsx)(b,{}),"Submit"]})]})});var eA=e.i(24808),eV=e.i(87444),e_=e.i(53642);function eL(e){var n,o;let{post:s}=e;(0,C.useContext)(e_.HiveMimeApiContext);let[i,d]=(0,C.useState)(()=>(0,eV.observable)({postId:s.id,polls:(s.polls||[]).map(e=>({pollId:e.id,candidates:(e.candidates||[]).map(e=>({candidateId:e.id,value:null}))}))}));return(0,t.jsxs)(a.Card,{className:"py-4",children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsx)(a.CardTitle,{children:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("div",{className:"flex flex-row gap-2",children:(0,t.jsxs)("span",{className:"text-gray-500 text-sm",children:["User has ",null==(n=s.polls)?void 0:n.length," poll",(null==(o=s.polls)?void 0:o.length)===1?"":"s"," for you"]})}),(0,t.jsx)("span",{className:"font-bold text-honey-brown",children:s.title})]})})}),(0,t.jsxs)(a.CardContent,{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:s.description}),(0,t.jsxs)(eA.EmbeddedTabs,{defaultValue:"Question1",children:[(0,t.jsx)(eA.EmbeddedTabsList,{className:"mt-4",children:s.polls.map((e,a)=>(0,t.jsx)(eA.EmbeddedTabsTrigger,{value:"Question".concat(a+1),children:a+1},e.id))}),s.polls.map((e,a)=>(0,t.jsx)(eA.EmbeddedTabsContent,{value:"Question".concat(a+1),children:(0,t.jsx)(eT,{poll:e,pollVote:i.polls[a]})},e.id))]})]}),(0,t.jsx)(a.CardFooter,{children:(0,t.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,t.jsxs)(c,{variant:"outline",children:[(0,t.jsx)(l,{}),"128"]}),(0,t.jsxs)(c,{variant:"outline",children:[(0,t.jsx)(r,{height:241}),"64"]})]})})]})}var eO=e.i(2747);function eU(){let e=(0,C.useContext)(e_.HiveMimeApiContext),[a,n]=(0,C.useState)([]),[r,l]=(0,C.useState)(!1);async function o(){l(!0),n((await e.api.postBrowseList()).data),l(!1)}return(0,C.useEffect)(()=>{o()},[]),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsxs)("div",{className:"w-full max-w-183 flex flex-col gap-4",children:[a.map((e,a)=>(0,t.jsx)(eL,{post:e},a)),r&&(0,t.jsx)("div",{children:(0,t.jsx)(eO.Skeleton,{className:"h-64 w-full rounded-xl",children:(0,t.jsx)("span",{className:"flex h-full w-full items-center justify-center text-gray-500",children:"Loading..."})})})]})})}}]);