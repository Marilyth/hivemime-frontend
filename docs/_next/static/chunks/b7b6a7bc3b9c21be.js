(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,30525,e=>{"use strict";e.s(["default",()=>k],30525);var l=e.i(43476),s=e.i(15288),a=e.i(19455),t=e.i(87675),n=e.i(10204),i=e.i(93479);function r(e){let{label:s,isRequired:a,...t}=e;return(0,l.jsxs)("div",{className:"flex flex-col w-full gap-1",children:[(0,l.jsxs)(n.Label,{htmlFor:t.id,children:[s,a&&(0,l.jsx)("span",{className:"text-honey-brown",children:"*"})]}),(0,l.jsx)(i.Input,{...t})]})}e.i(71470);var o=e.i(41721),c=e.i(72436),d=e.i(48800),x=e.i(85272);let p=(0,o.observer)(e=>{let{poll:s}=e;return(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)("div",{className:"text-sm text-muted-foreground",children:"Choose the type of poll you wish to create."}),[{name:"Single choice",description:"The user has to pick one out of several candidates."},{name:"Multiple choice",description:"The user has to pick one or more out of several candidates."},{name:"Rating",description:"The user has assign each candidate a value within a specified range."},{name:"Ranking",description:"The user has to rank the candidates in order of preference. (E.g. top 10 lists)"},{name:"Categorization",description:"The user has to assign a category to each candidate. (E.g. tier lists)"}].map((e,a)=>(0,l.jsxs)(d.HiveMimeHoverCard,{className:"flex flex-row cursor-pointer hover:text-honey-brown",onClick:()=>s.pollType=a,children:[(0,l.jsx)(x.HiveMimePollTypeIcon,{answerType:a,className:"mr-2 text-gray-500"}),(0,l.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,l.jsx)("span",{children:e.name}),(0,l.jsx)("span",{className:"text-sm text-muted-foreground",children:e.description})]})]},a))]})});var h=e.i(7233),u=e.i(27612),m=e.i(73741);let j=(0,o.observer)(e=>{let{className:s,...a}=e;return(0,l.jsx)(i.Input,{className:"!bg-transparent !ring-offset-transparent border-0 shadow-none focus-visible:ring-0 p-0 ".concat(s),...a})});var v=e.i(71645);function f(e){let{index:s,onIndexChange:a}=e,[t,n]=(0,v.useState)(s);return(0,l.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,l.jsx)(j,{type:"number",className:"p-0 w-8 text-gray-500",value:t,onChange:e=>{var l;n(l=Math.max(1,l=Number(e.target.value))),null==a||a(l)}})})}let g=(0,o.observer)(e=>{let{index:s,option:a}=e;return(0,l.jsxs)(d.HiveMimeHoverCard,{className:"flex flex-row gap-2",children:[(0,l.jsx)(f,{index:s}),(0,l.jsx)(j,{value:a.name,onChange:e=>a.name=e.target.value})]})}),b=(0,o.observer)(e=>{let{poll:s}=e;return(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)(m.Label,{children:"Candidates"}),s.candidates.map((e,t)=>(0,l.jsxs)("div",{className:"flex flex-row items-center",children:[(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)(g,{option:e,index:t})}),(0,l.jsx)(a.Button,{disabled:s.candidates.length<=2,variant:"ghost",className:"ml-2 text-muted-foreground hover:text-red-400",onClick:()=>{s.candidates.length>2&&s.candidates.splice(t,1)},children:(0,l.jsx)(u.Trash2,{})})]},t)),(0,l.jsxs)(a.Button,{variant:"outline",onClick:function(){var e;null==(e=s.candidates)||e.push({name:"Candidate ".concat(s.candidates.length+1),description:""})},children:[(0,l.jsx)(h.Plus,{}),"Add candidate"]})]})}),T=(0,o.observer)(e=>{let{poll:s}=e,n={[t.PollType.Value0]:(0,l.jsx)(b,{poll:s}),[t.PollType.Value1]:(0,l.jsx)("span",{children:"ToDo"}),[t.PollType.Value2]:(0,l.jsx)("span",{children:"ToDo"}),[t.PollType.Value3]:(0,l.jsx)("span",{children:"ToDo"}),[t.PollType.Value4]:(0,l.jsx)("span",{children:"ToDo"})};return(0,l.jsx)("div",{children:void 0==s.pollType&&(0,l.jsx)(p,{poll:s})||(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)("div",{className:"flex flex-row gap-2",children:(0,l.jsx)(r,{label:"Question",placeholder:"My poll's title",value:s.title,onChange:e=>s.title=e.target.value})}),(0,l.jsx)(r,{label:"Description",placeholder:"My poll's description",value:s.description,onChange:e=>s.description=e.target.value}),(0,l.jsxs)("div",{className:"flex flex-row items-center mt-8",children:[(0,l.jsx)(c.Separator,{className:"flex-1"}),(0,l.jsxs)(a.Button,{variant:"link",className:"border-1 cursor-pointer text-honey-brown",onClick:()=>s.pollType=void 0,children:[(0,l.jsx)(x.HiveMimePollTypeIcon,{answerType:s.pollType}),t.PollType[s.pollType]]}),(0,l.jsx)(c.Separator,{className:"flex-1"})]}),n[s.pollType]]})})});var y=e.i(24808),C=e.i(53642),N=e.i(75157),w=e.i(18566);let P=(0,o.observer)(()=>{let e=(0,v.useContext)(C.HiveMimeApiContext),[t,n]=(0,v.useState)("1"),i=(0,v.useRef)((0,N.createObservable)({title:"",description:"",polls:[]})).current;function o(){var e;null==(e=i.polls)||e.push({title:"",description:"",candidates:[]}),n("".concat(i.polls.length))}async function d(){await e.api.postCreateCreate(i),(0,w.redirect)("/home")}return 0===i.polls.length&&o(),(0,l.jsxs)(s.Card,{className:"py-4",children:[(0,l.jsx)(s.CardHeader,{children:(0,l.jsx)("h2",{className:"text-2xl font-bold",children:"Create new post"})}),(0,l.jsx)(s.CardContent,{children:(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)(r,{isRequired:!0,label:"Title",placeholder:"My title",value:i.title,onChange:e=>i.title=e.target.value}),(0,l.jsx)(r,{label:"Description",placeholder:"My description",value:i.description,onChange:e=>i.description=e.target.value}),(0,l.jsx)(c.Separator,{className:"mt-8",orientation:"horizontal"}),(0,l.jsx)(m.Label,{children:"Polls"}),(0,l.jsxs)(y.EmbeddedTabs,{value:t,onValueChange:n,children:[(0,l.jsx)(y.EmbeddedTabsList,{actionComponent:(0,l.jsxs)(a.Button,{variant:"outline",className:"rounded-b-none border-b-0",onClick:o,children:[(0,l.jsx)(h.Plus,{}),"Add"]}),children:i.polls.map((e,s)=>(0,l.jsx)(y.EmbeddedTabsTrigger,{value:"".concat(s+1),children:s+1},s))}),i.polls.map((e,s)=>(0,l.jsx)(y.EmbeddedTabsContent,{value:"".concat(s+1),children:(0,l.jsx)(T,{poll:e})},s))]})]})}),(0,l.jsx)(s.CardFooter,{children:(0,l.jsx)(a.Button,{onClick:d,children:"Submit"})})]})});function k(){return(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsx)("div",{className:"w-full max-w-183 flex flex-col gap-4",children:(0,l.jsx)(P,{})})})}}]);